/**
*  Importer
*  a simple loader manager for classes and assets with dependencies for PHP, Python, Node.js / Browser / XPCOM Javascript
*
*  @version 1.1.4
*  https://github.com/foo123/Importer
**/
!function(e,t,l){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils.import?(e.$deps=e.$deps||{})&&(e.EXPORTED_SYMBOLS=[t])&&(e[t]=e.$deps[t]=l.call(e)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=l.call(e)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System.import?System.register(t,[],function(i){i(t,l.call(e))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return l.moduleUri=t.uri,l.call(e)}):t in e||(e[t]=l.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}("undefined"!=typeof self?self:this,"Importer",function(e){"use strict";var t="prototype",l=Object[t].hasOwnProperty,i="setAttribute",n="toLowerCase",s=Object[t].toString,r=Array[t].map,a=Object.keys,o=String[t].startsWith?function(e,t,l){return e.startsWith(t,l||0)}:function(e,t,l){return l=l||0,t===e.substr(l,t.length+l)},c="undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils.import,p=!c&&"undefined"!=typeof global&&"[object global]"===s.call(global),u=!c&&!p&&"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,h=!c&&!p&&!u&&"undefined"!=typeof navigator,f=("function"==typeof define&&define.amd,!c&&!p&&"undefined"!=typeof System&&"function"==typeof System.register&&System.import,c?Components.utils:null),d=c?Components.classes:null,m=c?Components.interfaces:null;c&&(f.import("resource://gre/modules/NetUtil.jsm"),f.import("resource://gre/modules/osfile.jsm"));var _,g,y=c?this:p?global:u?this:window,b=p?require("fs"):null,v=c?function(e,t,l){return f.import(t,l),l[e]}:p?function(e,t,l){return require(t)}:u?function(e,t,l){return importScripts(t),l[e]}:function(){},x=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},S=/\/|\\/g,C="://",j="#PROTOCOL#",k=/[\-.\/\\:]+/g,T=c?((g=d["@mozilla.org/file/directory_service;1"].getService(m.nsIProperties).get("ProfD",m.nsIFile)).append("abc"),g.append("abc"),g.path.substr(g.path.length-"abc".length-1,1)):p?require("path").sep:"/",I=function(e){return d["@mozilla.org/network/io-service;1"].getService(m.nsIIOService).newURI(e,null,null).QueryInterface(m.nsIFileURL).file},A=c?function(e,t,l){var i,n,s,r;if(n=I(e),s=d["@mozilla.org/network/file-input-stream;1"].createInstance(m.nsIFileInputStream),"binary"===t){var a=d["@mozilla.org/binaryinputstream;1"].createInstance(m.nsIBinaryInputStream);s.init(n,-1,-1,!1),r=s.available(),a.setInputStream(s),a.readByteArray(r,i=new Uint8Array(r)),a.close()}else{var o=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(m.nsIConverterInputStream),c={value:""},p=0;i=null,s.init(n,-1,0,0),o.init(s,t,0,0);do{p=o.readString(4294967295,c),null===i&&(i=""),i+=c.value}while(0!=p);o.close(),null===i&&(i=null!=l?l:"")}return i}:p?function(e,t,l){var i=b.readFileSync(e,"binary"===t?{}:{encoding:t});return i||("binary"===t?null!=l?l:null:null!=l?l:"")}:function(e,t,l){var i=x();return i.open("GET",e,!1),"binary"===t?u&&(i.responseType="arraybuffer"):(u&&(i.responseType="text"),i.setRequestHeader("Content-Type","text/plain; charset="+t),i.overrideMimeType("text/plain; charset="+t)),i.send(null),200===i.status?"binary"===t?i.response:i.responseText:"binary"===t?null!=l?l:null:null!=l?l:""},w=c?function(e,t,l,i){return NetUtil.asyncFetch(I(e),function(e,n){var s=null;if(Components.isSuccessCode(n))if("binary"===t){var r=d["@mozilla.org/binaryinputstream;1"].createInstance(m.nsIBinaryInputStream),a=e.available();r.setInputStream(e),r.readByteArray(a,s=new Uint8Array(a)),r.close()}else s=NetUtil.readInputStreamToString(e,e.available(),{charset:t});else s="binary"===t?null!=i?i:null:null!=i?i:"";l&&l(s)}),""}:p?function(e,t,l,i){return"binary"===t?b.readFile(e,function(e,t){l&&l(e?null!=i?i:null:t)}):b.readFile(e,{encoding:t},function(e,t){l&&l(e?null!=i?i:"":t)}),""}:function(e,t,l,i){var n=x();return n.open("GET",e,!0),"binary"===t?(n.responseType="arraybuffer",n.onload=function(){l&&l(200===n.status?n.response:null!=i?i:null)}):(n.responseType="text",n.setRequestHeader("Content-Type","text/plain; charset="+t),n.overrideMimeType("text/plain; charset="+t),n.onload=function(){l&&l(200===n.status?n.responseText:null!=i?i:"")}),n.send(null),""};function N(e){return"function"==typeof e}function q(e){return e instanceof String||"[object String]"===s.call(e)}function R(e){return e instanceof Array||"[object Array]"===s.call(e)}function O(e){if(!e)return!0;var t=s.call(e);return(e instanceof Array||e instanceof String||"[object Array]"===t||"[object String]"===t)&&!e.length}function B(e){return R(e)?e:[e]}function E(e,t){var l,i,n=a(t);for(l=0,i=n.length;l<i;l++)e[n[l]]=t[n[l]];return e}function L(e,t){if(!e)return t||"";var l,n,s=a(e);if(t){for(l=0,n=s.length;l<n;l++)t[i](s[l],e[s[l]]);return t}var r=[];for(l=0,n=s.length;l<n;l++)r.push(s[l]+'="'+e[s[l]]+'"');return r.join(" ")}function U(e){return document.getElementById(e)}function F(e){return document.createElement(e)}function P(e,t){var l=document.getElementsByTagName(e);return arguments.length>1?t<0?l[l.length+t]:l[t]:l}function D(e,t,n,s){var r,a,o=null,c=null;if("html"===e){var p=F("div");for(p.innerHTML+=t;p.firstChild;)"SCRIPT"!==o.firstChild.nodeName&&"STYLE"!==o.firstChild.nodeName&&"LINK"!==o.firstChild.nodeName||(o=p.firstChild),document.head.appendChild(p.firstChild);return o}switch(e){case"tpl-link":case"tpl":o=F("script"),s?L(s,o):o[i]("type","text/x-tpl"),o.appendChild(document.createTextNode(t)),document.head.appendChild(o);break;case"script-link":if(n)for(r=(a=P("script")).length-1;r>=0;r--)if(a[r].src&&t===a[r].src){c=a[r];break}c?o=c:(o=F("script"),s?L(s,o):(o[i]("type","text/javascript"),o[i]("language","javascript")),o[i]("src",t),document.head.appendChild(o));break;case"script":o=F("script"),s?L(s,o):(o[i]("type","text/javascript"),o[i]("language","javascript")),o.appendChild(document.createTextNode(t)),document.head.appendChild(o);break;case"style-link":if(n)for(r=(a=P("link")).length-1;r>=0;r--)if(t===a[r].href){c=a[r];break}c?o=c:((o=F("link"))[i]("rel","stylesheet"),s?L(s,o):(o[i]("type","text/css"),o[i]("media","all")),o[i]("href",t),document.head.appendChild(o));break;case"style":default:o=F("style"),s?L(s,o):(o[i]("type","text/css"),o[i]("media","all")),o.appendChild(document.createTextNode("")),document.head.appendChild(o),t&&function(e,t){var i,n,s,r,a,o=typeof t;if("object"===o)for(i in n=0,t)l.call(t,i)&&(r=(s=t[i]).selector,a=[].concat(s.rules).join("; "),"insertRule"in e.sheet?(e.sheet.insertRule(r+"{"+a+"}",n),s.css=e.sheet.cssRules[n]):"addRule"in e.sheet&&(e.sheet.addRule(r,a,n),s.css=e.sheet.rules[n]),n++);else"string"===o&&(e.styleSheet?e.styleSheet.cssText=(e.styleSheet.cssText||"")+t:e.appendChild(document.createTextNode(t)))}(o,t)}return o}function M(e){return e.split(C).join(j)}function z(){var e,t,l,i,n,s,a,o,c,p=arguments,u=p.length,h=T;if(!u)return".";if(!(t=(e=r.call(p,M).join(h)).length))return".";for(l=e.charAt(0),i=e.charAt(t-1),s=[],a=0,o=(n=e.split(S).filter(Boolean)).length-1;o>=0;)".."===(c=n[o])?a++:"."!==c&&(a?a--:s.push(n[o])),o--;return(e=s.reverse().join(h))||l||(e="."),e&&i===h&&(e+=h),(l===h?h:"")+e.split(j).join(C)}function H(){var e,t=T;return T="/",e=z.apply(null,arguments),T=t,e}return(_=function e(t,l){if(!(this instanceof e))return new e(t,l);this.base="",this.base_url="",this.base_path(t,l),this._classmap={__global__:{}},this._classes={__global__:{}},this._assets={__global__:{}},this._hooks={__global__:{}},this._cache={}}).VERSION="1.1.4",_.BASE="./",_.path_join=function(){var e,t=arguments,l=".";return t.length?l=c?OS.Path.join.apply(OS.Path,t):p?(e=require("path")).join.apply(e,t):z.apply(null,t):l},_.join_path=z,_.join_path_url=H,_.attributes=L,_[t]={constructor:_,base:null,base_url:null,_classmap:null,_classes:null,_assets:null,_hooks:null,_cache:null,dispose:function(){return this._classmap=null,this._classes=null,this._assets=null,this._hooks=null,this._cache=null,this.base=null,this.base_url=null,this},on:function(e,t,i,n){return null==i&&(i="__global__"),i&&!O(e)&&N(t)&&(l.call(this._hooks,i)||(this._hooks[i]={}),l.call(this._hooks[i],e)||(this._hooks[i][e]=[]),this._hooks[i][e].push([t,!0===n,0])),this},one:function(e,t,l){return this.on(e,t,l,!0)},off:function(e,t,i){var n,s;if(null==i&&(i="__global__"),i&&l.call(this._hooks,i)&&!O(e)&&!O(this._hooks[i][e]))if(!0===t)delete this._hooks[i][e];else if(t)for(s=(n=this._hooks[i][e]).length-1;s>=0;s--)t===n[s][0]&&n.splice(s,1);return this},trigger:function(e,t,i){var n,s,r;if(null==i&&(i="__global__"),i&&l.call(this._hooks,i)&&!O(e)&&!O(this._hooks[i][e])){for(n=this._hooks[i][e],t=t||[],s=0;s<n.length&&((r=n[s])[1]&&r[2]||(r[2]=1,!1!==r[0].apply(null,t)));s++);for(s=n.length-1;s>=0;s--)n[s][1]&&n[s][2]&&n.splice(s,1)}return this},base_path:function(e,t){return q(e)&&e.length?this.base=e:!1===e&&(this.base=""),q(t)&&t.length?this.base_url=t:!1===t&&(this.base_url=""),this},get_path:function(e,t,l){return O(e)?t||"":!O(t)&&(o(e,"./")||o(e,"../")||o(e,".\\")||o(e,"..\\"))?!0===l?H(t,e):z(t,e):e},path:function(e){return this.get_path(e||"",p?this.base:this.base_url)},path_url:function(e){return this.get_path(e||"",this.base_url,!0)},register:function(e,t,i){var s,r,a,o,c,p,u,h,f,d,m=this._classes,_=this._classmap,g=this._assets;if(null==i&&(i="__global__"),e=String(e).toLowerCase(),i&&R(t)&&t.length)if(R(t[0])||(t=[t]),"classes"===e)for(s=0,r=t.length;s<r;s++)a=(o=t[s])[0],c=o[1],p=o[2],u=o[3]?o[3]:[],O(a)||O(c)||O(p)||(l.call(m,i)||(m[i]={}),l.call(_,i)||(_[i]={}),p=this.path(p),m[i][c]=[a,c,p,B(u),!1],_[i][a]=[p,c]);else if("assets"===e)for(s=0,r=t.length;s<r;s++)f=(o=t[s])[0],c=o[1],d=o[2],u=o[3]?o[3]:[],h=o[4]?o[4]:{},O(f)||O(c)||O(d)||("scripts-composite"===(f=f[n]())||"styles-composite"===f||"scripts-alt"===f||"styles-alt"===f?d=B(d):q(d)&&(d=this.path_url(d)),l.call(g,i)||(g[i]={}),g[i][c]=[f,c,d,B(u),h,!1,!1]);return this},import_class:function(e,t,s){var r,a,o,h,f,d,m,_,g,b=this,x=b._classes,S="class-"+e,C=b._cache;if(null==s&&(s="__global__"),l.call(C,s+"--"+S))N(t)&&t.call(b,C[s+"--"+S]);else{for(a=!1,m=[],r=[e];r.length;)if(e=r[0],_=l.call(x,s)&&l.call(x[s],e)?s:"__global__",l.call(x[_],e)&&!x[_][e][4])if(a=!0,l.call(y,x[_][e][0]))r.shift(),x[_][e][4]=!0,m.push({id:e,type:"class",cache_id:"class-"+e,name:x[_][e][0],path:x[_][e][2],ctx:s,loaded:y[x[_][e][0]]});else{if(O(d=x[_][e][3]))r.shift();else{for(o=!1,h=d.length-1;h>=0;h--)f=d[h],g=l.call(x,s)&&l.call(x[s],f)?s:"__global__",l.call(x[g],f)&&!x[g][f][4]&&(o=!0,r.unshift(f));if(o)continue;r.shift()}x[_][e][4]=!0,m.push({id:e,type:"class",cache_id:"class-"+e,name:x[_][e][0],path:x[_][e][2],ctx:s})}else l.call(x[_],e)?(a=!0,r.shift()):r.shift();a&&m.length?function(e,t,s,r,a){var o,h,f,d,m,_,g=r.length,y=new Array(g);if(c||p||u){for(o=0;o<g;o++)l.call(r[o],"loaded")?(y[o]=r[o].loaded,e.trigger("import-class",[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx).trigger("import-class-"+r[o].id,[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx)):l.call(s,r[o].ctx+"--"+r[o].cache_id)?y[o]=s[r[o].ctx+"--"+r[o].cache_id]:"class"!==r[o].type?y[o]=s[r[o].ctx+"--"+r[o].cache_id]=A(r[o].path,c?"UTF-8":"utf8"):r[o].name in t?y[o]=t[r[o].name]:(y[o]=v(r[o].name,r[o].path,t)||null,e.trigger("import-class",[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx).trigger("import-class-"+r[o].id,[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx));return a.apply(t,y)}for(d=P("head",0),h=0,o=0,m=function(e,t,l,r,a){var o,c;"style"===l||"script"===l?(c=U(e))&&l===c.tagName[n]()?a():w(r,"utf8",function(n){s[t+"--"+e]=n,D(l,n)[i]("id",e),a()}):"class"!==l?"template"===l&&(c=U(e))&&"script"===c.tagName[n]()?a():w(r,"utf8",function(n){s[t+"--"+e]=n,"template"!==l||U(e)||D("tpl",n)[i]("id",e),a()}):(c=U(e))&&"script"===c.tagName[n]()?a():(o=0,(c=F("script"))[i]("id",e),c[i]("type","text/javascript"),c[i]("language","javascript"),c.onload=c.onreadystatechange=function(){o||c.readyState&&"loaded"!=c.readyState&&"complete"!=c.readyState||(o=1,c.onload=c.onreadystatechange=null),a()},c[i]("src",r),d.appendChild(c))},_=function i(){var n;l.call(r[o],"loaded")||(n=l.call(s,r[o].ctx+"--"+r[o].cache_id))||r[o].name in t?(y[o]=(l.call(r[o],"loaded")?r[o].loaded:n?s[r[o].ctx+"--"+r[o].cache_id]:t[r[o].name])||null,e.trigger("import-class",[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx).trigger("import-class-"+r[o].id,[e,r[o].id,r[o].name,r[o].path,y[o]],r[o].ctx),++o>=g?a.apply(t,y):l.call(r[o],"loaded")||(n=l.call(s,r[o].ctx+"--"+r[o].cache_id))||r[o].name in t?(y[o]=(l.call(r[o],"loaded")?r[o].loaded:n?s[r[o].ctx+"--"+r[o].cache_id]:t[r[o].name])||null,i()):(t[r[o].name]=null,m(r[o].cache_id,r[o].ctx,r[o].type,r[o].path,i))):++h<4?setTimeout(i,20):(h=0,t[r[o].name]=null,e.trigger("import-class",[e,r[o].id,r[o].name,r[o].path,null],r[o].ctx).trigger("import-class-"+r[o].id,[e,r[o].id,r[o].name,r[o].path,null],r[o].ctx),o++,i())};o<g&&(l.call(r[o],"loaded")||(f=l.call(s,r[o].ctx+"--"+r[o].cache_id))||r[o].name in t);)y[o]=(l.call(r[o],"loaded")?r[o].loaded:f?s[r[o].ctx+"--"+r[o].cache_id]:t[r[o].name])||null,o++;o<g?m(r[o].cache_id,r[o].ctx,r[o].type,r[o].path,_):a.apply(t,y)}(b,y,C,m,function(){var e,l,i=arguments;for(e=0,l=i.length;e<l;e++)C[s+"--"+m[e].cache_id]=i[e];N(t)&&t.call(b,C[s+"--"+S])}):N(t)&&t.call(b,null)}return b},import_asset:function(e,t){var n,s,r,a,o,c,p,u,f,d,m,_,g,y,b,v,x,S,C,j,T,I,A=[e],w=this._assets,N=[];for(null==t&&(t="__global__");A.length;)if(e=A[0],T=l.call(w,t)&&l.call(w[t],e)?t:"__global__",l.call(w[T],e)&&w[T][e][5]&&!w[T][e][6]){if(u=(p=w[T][e])[0],e=p[1],f=p[2],n=p[3],s=p[4],n&&n.length){for(a=!1,o=n.length-1;o>=0;o--)c=n[o],I=l.call(w,t)&&l.call(w[t],c)?t:"__global__",l.call(w[I],c)&&!w[I][c][6]&&(w[I][c][5]=!0,a=!0,A.unshift(c));if(a)continue;A.shift()}if(p[6]=!0,j={},this.trigger("import-asset",[this,e,u,f,j],t).trigger("import-asset-"+e,[this,e,u,f,j],t),null!=j.return)N.push(j.return);else if(m="styles"===u||"styles-composite"===u,_="scripts"===u||"scripts-composite"===u,g="templates"===u,b="scripts-alt"===u||"styles-alt"===u,v=!(y="scripts-composite"===u||"styles-composite"===u)&&!b&&R(f),d=e.replace(k,"_"),m)if(r=E({type:"text/css",media:"all"},s),h)if(v)N.push(C=U("importer-inline-style-"+d)||D("style",f[0],!1,r)),C[i]("id","importer-inline-style-"+d);else if(y)for(x=0,S=f.length;x<S;x++)R(f[x])?(N.push(C=U("importer-inline-style-"+d+"-part-"+x)||D("style",f[x][0],!1,r)),C[i]("id","importer-inline-style-"+d+"-part-"+x)):(N.push(C=U("importer-style-"+d+"-part-"+x)||D("style-link",this.path_url(f[x]),!0,r)),C[i]("id","importer-style-"+d+"-part-"+x));else b?(N.push(C=U("importer-style-"+d)||D("html",f[0])),C[i]("id","importer-style-"+d)):(N.push(C=U("importer-style-"+d)||D("style-link",this.path_url(f),!0,r)),C[i]("id","importer-style-"+d));else if(r=L(r),v)N.push('<style id="importer-inline-style-'+d+'" '+r+">"+f[0]+"</style>");else if(y)for(x=0,S=f.length;x<S;x++)R(f[x])?N.push('<style id="importer-inline-style-'+d+"-part-"+x+'" '+r+">"+f[x][0]+"</style>"):N.push('<link id="importer-style-'+d+"-part-"+x+'" href="'+this.path_url(f[x])+'" rel="stylesheet" '+r+" />");else b?N.push(f[0]):N.push('<link id="importer-style-'+d+'" href="'+this.path_url(f)+'" rel="stylesheet" '+r+" />");else if(_)if(r=E({type:"text/javascript"},s),h)if(v)N.push(C=U("importer-inline-script-"+d)||D("script","/*<![CDATA[*/ "+f[0]+" /*]]>*/",!1,r)),C[i]("id","importer-inline-script-"+d);else if(y)for(x=0,S=f.length;x<S;x++)R(f[x])?(N.push(C=U("importer-inline-script-"+d+"-part-"+x)||D("script","/*<![CDATA[*/ "+f[x][0]+" /*]]>*/",!1,r)),C[i]("id","importer-inline-script-"+d+"-part-"+x)):(N.push(C=U("importer-script-"+d+"-part-"+x)||D("script-link",this.path_url(f[x]),!0,r)),C[i]("id","importer-script-"+d+"-part-"+x));else b?(N.push(C=U("importer-script-"+d)||D("html",f[0])),C[i]("id","importer-script-"+d)):(N.push(C=U("importer-script-"+d)||D("script-link",this.path_url(f),!0,r)),C[i]("id","importer-script-"+d));else if(r=L(r),v)N.push('<script id="importer-inline-script-'+d+'" '+r+">/*<![CDATA[*/ "+f[0]+" /*]]>*/<\/script>");else if(y)for(x=0,S=f.length;x<S;x++)R(f[x])?N.push('<script id="importer-inline-script-'+d+"-part-"+x+'" '+r+">/*<![CDATA[*/ "+f[x][0]+" /*]]>*/<\/script>"):N.push('<script id="importer-script-'+d+"-part-"+x+'" src="'+this.path_url(f[x])+'" '+r+"><\/script>");else b?N.push(f[0]):N.push('<script id="importer-script-'+d+'" src="'+this.path_url(f)+'" '+r+"><\/script>");else g?(r=E({type:"text/x-tpl"},s),h?(N.push(C=v?U("importer-inline-tpl-"+d)||D("tpl",f[0],!1,r):U("importer-inline-tpl-"+d)||D("tpl",this.get(f),!1,r)),C[i]("id","importer-inline-tpl-"+d)):(r=L(r),N.push(v?'<script id="importer-inline-tpl-'+d+'" '+r+">"+f[0]+"<\/script>":'<script id="importer-inline-tpl-'+d+'" '+r+">"+this.get(f)+"<\/script>"))):N.push(v?f[0]:this.get(f))}else A.shift();return N},assets:function(e,t){var i,s,r,a,o,c,p,u=this._assets,f=[];if(arguments.length||(e="scripts",t="__global__"),null==t&&(t="__global__"),!t||!l.call(u,t))return"";for(s in c=(e=e[n]())+"-composite",p=e+"-alt",u[t])l.call(u[t],s)&&(e!==(r=u[t][s])[0]&&c!==r[0]&&p!==r[0]||!r[5]||r[6]||f.push(r[1]));if(h){for(a=0,o=f.length;a<o;a++)this.import_asset(f[a],t);i=""}else{for(i=[],a=0,o=f.length;a<o;a++)i=i.concat(this.import_asset(f[a],t));i=i.join("\n")}return i},enqueue:function(e,t,i,n){var s,r=this._assets,a=null,o=null,c=null;return R(i)?(a=i[0]||null,o=i[1]||null,c=i[2]||null):n=i,null==n&&(n="__global__"),!n||O(e)||O(t)||(s=l.call(r,n)&&l.call(r[n],t)?n:"__global__",l.call(r,s)&&l.call(r[s],t)?(r[s][t][5]=!0,this.trigger("enqueue-asset",[this,t,e,r[s][t][2]],n).trigger("enqueue-asset-"+t,[this,t,e,r[s][t][2]],n)):O(a)||(this.register("assets",[e,t,a,o,c],n),r[n][t][5]=!0,this.trigger("enqueue-asset",[this,t,e,r[n][t][2]],n).trigger("enqueue-asset-"+t,[this,t,e,r[n][t][2]],n))),this},get:function(e,t,i){var n,s,r;return t=t||{},r=l.call(t,"default")?t.default:"",n=t.encoding||(c?"UTF-8":"utf8"),O(t.binary)||(n="binary"),i=i||t.complete||N(t)&&t,h?(s=this.path(e),w(s,n,function(e){N(i)&&i(e)},r)):(s=this.path(e),N(i)?w(s,n,i,r):A(s,n,r))},load:function(e,t,i,n){var s,r,a,o,c=this,p=(arguments.length,null),u=null;return R(e)?(N(t)?(n=i,i=t):n=t,null==n&&(n="__global__"),s=e.length,r=new Array(s),a=0,function t(l){arguments.length&&(r[a]=l||null,a++),a<s?c.import_class(e[a],t,n):N(i)&&i.apply(c,r)}()):(N(t)&&(n=i,i=t),R(t)?(p=t[0]||null,u=t[1]||null):n=t,null==n&&(n="__global__"),l.call(c._classes,n)&&l.call(c._classes[n],e)||l.call(c._classes.__global__,e)||O(p)||c.register("classes",[e,e,c.path(p),u],n),o=l.call(c._classes,n)&&l.call(c._classes[n],e)?n:"__global__",l.call(c._classes[o],e)&&!c._classes[o][e][4]?c.import_class(e,i,o):N(i)&&i.call(c,c._cache[o+"--class-"+e]||null)),c}},_.BASE=c?"./":p?__dirname:u?this.location.href.split("/").slice(0,-1).join("/"):(P("script",-1).src||"./").split("/").slice(0,-1).join("/"),_});